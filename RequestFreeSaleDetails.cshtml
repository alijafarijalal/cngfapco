@model IEnumerable<cngfapco.Models.RequestFreeSale>

@{
    ViewBag.Title = "RequestFreeSaleDetails";
    Layout = "~/Views/Shared/_DataTableLayout.cshtml";
    string roleName = cngfapco.Helper.Helpers.GetCurrentUserRole();
}

<!-- BEGIN PAGE HEADER-->
<div class="row-fluid">
    <div class="span12">
        <!-- BEGIN PAGE TITLE & BREADCRUMB-->
        <ul class="breadcrumb">
            <li>
                <a href="/Home/Index"><i class="icon-home"></i></a><span class="divider">&nbsp;</span>
            </li>
            <li>
                <a href="/Users/SubSideBarItems?parentId=86">مدیریت فروش</a> <span class="divider">&nbsp;</span>
            </li>
            <li>
                @*<a href="/Financials/RequestFreeSaleList?parentId=86&itemId=85">درخواست های خرید</a> <span class="divider">&nbsp;</span>*@
                <a href="#">درخواست های خرید</a> <span class="divider">&nbsp;</span>
            </li>
            <li><a href="#"> جزئیات درخواست خرید اقلام </a><span class="divider-last">&nbsp;</span></li>

        </ul>
        <!-- END PAGE TITLE & BREADCRUMB-->
    </div>
</div>
<!-- END PAGE HEADER-->
<div class="row-fluid">
    @(Model.First().Workshops.Title + " _ " + Model.First().Owners  + " _ " + Model.First().EmployerEconomicalnumber + " _ " + Model.First().Employerregistrationnumber + " _ " + Model.First().EmployerPhone + " _ " + Model.First().CreatedDate)
</div>
<hr />
<div class="row-fluid">
    <div style="overflow:auto;">
        <table class="table table-striped table-bordered table-hover table-advance" id="">
            <thead>
                <tr>
                    <th>#</th>
                    <th>
                        @Html.DisplayNameFor(model => model.InvoiceCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ServiceCode)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ServiceDesc)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Number)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.UnitofMeasurement)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.UnitAmount)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.TotalAmount)
                    </th>
                    <th hidden>
                        @Html.DisplayNameFor(model => model.DiscountAmount)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Description)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SaleCondition)
                    </th>
                    <th>
                        <i class="icon-cog"></i>
                    </th>
                </tr>
            </thead>

            <tbody>
                @{ int rowNum = 0;}
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @(rowNum += 1)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.InvoiceCode)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ServiceCode)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ServiceDesc)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Number)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UnitofMeasurement)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.UnitAmount)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.TotalAmount)
                        </td>
                        <td hidden>
                            @Html.DisplayFor(modelItem => item.DiscountAmount)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SaleCondition)
                        </td>
                        <td>
                            @if (roleName.Contains("مدیر فروش") || roleName.Equals("admin"))
                            {
                                <a href="/Financials/RequestFreeSaleEdit?id=@item.InvoiceID">
                                    <i class="icon-edit text-warning"></i>
                                </a> <span> | </span>
                               <a href = "/Financials/RequestFreeSaleDelete?id=@item.InvoiceID" >
                                    <i class="icon-remove text-danger"></i>
                               </a>
                             }
                        </td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>


